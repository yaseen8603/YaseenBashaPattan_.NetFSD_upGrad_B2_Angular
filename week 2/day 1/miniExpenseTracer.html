<!DOCTYPE html>
<html>
<head>
    <title>Expense Tracker</title>
</head>
<body>

<h2>Expense Tracker</h2>

Title: <input type="text" id="title"><br>
Amount: <input type="number" id="amount"><br>
Date: <input type="date" id="date"><br><br>

<button onclick="addExpense()">Add Expense</button>
<button onclick="viewExpenses()">View Expenses</button>

<ul id="expenseList"></ul>

<script>
    var db;

    var request = indexedDB.open("ExpenseDB", 1);

    request.onupgradeneeded = function(event) {
        db = event.target.result;
        db.createObjectStore("expenses", { keyPath: "id", autoIncrement: true });
    };

    request.onsuccess = function(event) {
        db = event.target.result;
    };

    request.onerror = function() {
        alert("Database error");
    };

    function addExpense() {
        var transaction = db.transaction(["expenses"], "readwrite");
        var store = transaction.objectStore("expenses");

        var expense = {
            title: document.getElementById("title").value,
            amount: document.getElementById("amount").value,
            date: document.getElementById("date").value
        };

        store.add(expense);

        transaction.onerror = function() {
            alert("Transaction failed");
        };
    }

    function viewExpenses() {
        var transaction = db.transaction(["expenses"], "readonly");
        var store = transaction.objectStore("expenses");
        var request = store.openCursor();

        var list = document.getElementById("expenseList");
        list.innerHTML = "";

        request.onsuccess = function(event) {
            var cursor = event.target.result;
            if (cursor) {
                var li = document.createElement("li");
                li.textContent =
                    cursor.value.title + " - â‚¹" +
                    cursor.value.amount + " (" +
                    cursor.value.date + ")";
                list.appendChild(li);
                cursor.continue();
            }
        };
    }
</script>

</body>
</html>